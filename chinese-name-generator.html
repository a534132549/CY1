<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­æ–‡å–åç¥å™¨ - ä¸“ä¸šèµ·åå·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            color: white;
            text-align: center;
            padding: 30px 20px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .form-section {
            padding: 40px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
        }

        .form-row {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .form-col {
            flex: 1;
            min-width: 200px;
        }

        input[type="text"], select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 8px 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .checkbox-item:hover {
            border-color: #667eea;
        }

        .checkbox-item input[type="checkbox"] {
            margin: 0;
        }

        .checkbox-item.checked {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .generate-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 20px;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .generate-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .results-section {
            padding: 40px;
            border-top: 1px solid #e1e8ed;
            display: none;
        }

        .results-section.show {
            display: block;
        }

        .results-title {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
            font-size: 1.5em;
            font-weight: 600;
        }

        .names-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .name-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .name-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(240, 147, 251, 0.3);
        }

        .name-card.expanded {
            transform: scale(1.02);
            box-shadow: 0 20px 40px rgba(240, 147, 251, 0.4);
        }

        .name-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.5s ease;
            opacity: 0;
        }

        .name-card:hover::before {
            opacity: 1;
            animation: shine 0.5s ease-in-out;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .name-text {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .name-meaning {
            font-size: 0.9em;
            opacity: 0.9;
            line-height: 1.4;
            margin-bottom: 15px;
        }

        .name-details {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.3);
            font-size: 0.85em;
            text-align: left;
        }

        .name-details.show {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .detail-item {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .detail-label {
            font-weight: 600;
            min-width: 60px;
        }

        .detail-value {
            opacity: 0.9;
        }

        .expand-btn {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .expand-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 8px;
            border-radius: 50%;
            cursor: pointer;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .loading::after {
            content: '';
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 1000;
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }

            .header h1 {
                font-size: 2em;
            }

            .form-section {
                padding: 20px;
            }

            .form-row {
                flex-direction: column;
            }

            .names-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ‹ ä¸­æ–‡å–åç¥å™¨</h1>
            <p>ä¸ºæ‚¨çš„å®è´èµ·ä¸€ä¸ªå¥½åå­—ï¼Œå¯“æ„ç¾å¥½ï¼Œæœ—æœ—ä¸Šå£</p>
            <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                ğŸ’« ä¸“ä¸šå–å | ğŸ“ äº”è¡Œæ­é… | ğŸ² ç”Ÿè‚–åŒ¹é… | ğŸ“‹ ä¸€é”®å¤åˆ¶
            </div>
        </header>

        <div class="form-section">
            <div class="form-group">
                <label for="surname">å§“æ°</label>
                <input type="text" id="surname" placeholder="è¯·è¾“å…¥å§“æ°ï¼Œå¦‚ï¼šå¼ ã€ç‹ã€æ..." maxlength="2">
            </div>

            <div class="form-row">
                <div class="form-col">
                    <div class="form-group">
                        <label for="gender">æ€§åˆ«</label>
                        <select id="gender">
                            <option value="">ä¸é™</option>
                            <option value="male">ç”·å­©</option>
                            <option value="female">å¥³å­©</option>
                        </select>
                    </div>
                </div>

                <div class="form-col">
                    <div class="form-group">
                        <label for="nameLength">åå­—å­—æ•°</label>
                        <select id="nameLength">
                            <option value="">ä¸é™</option>
                            <option value="1">å•å­—å</option>
                            <option value="2">åŒå­—å</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>ç”Ÿè‚–åå¥½ï¼ˆå¯å¤šé€‰ï¼‰</label>
                <div class="checkbox-group" id="zodiacGroup">
                    <div class="checkbox-item" data-value="é¼ ">
                        <input type="checkbox" id="zodiac-é¼ ">
                        <label for="zodiac-é¼ ">é¼ </label>
                    </div>
                    <div class="checkbox-item" data-value="ç‰›">
                        <input type="checkbox" id="zodiac-ç‰›">
                        <label for="zodiac-ç‰›">ç‰›</label>
                    </div>
                    <div class="checkbox-item" data-value="è™">
                        <input type="checkbox" id="zodiac-è™">
                        <label for="zodiac-è™">è™</label>
                    </div>
                    <div class="checkbox-item" data-value="å…”">
                        <input type="checkbox" id="zodiac-å…”">
                        <label for="zodiac-å…”">å…”</label>
                    </div>
                    <div class="checkbox-item" data-value="é¾™">
                        <input type="checkbox" id="zodiac-é¾™">
                        <label for="zodiac-é¾™">é¾™</label>
                    </div>
                    <div class="checkbox-item" data-value="è›‡">
                        <input type="checkbox" id="zodiac-è›‡">
                        <label for="zodiac-è›‡">è›‡</label>
                    </div>
                    <div class="checkbox-item" data-value="é©¬">
                        <input type="checkbox" id="zodiac-é©¬">
                        <label for="zodiac-é©¬">é©¬</label>
                    </div>
                    <div class="checkbox-item" data-value="ç¾Š">
                        <input type="checkbox" id="zodiac-ç¾Š">
                        <label for="zodiac-ç¾Š">ç¾Š</label>
                    </div>
                    <div class="checkbox-item" data-value="çŒ´">
                        <input type="checkbox" id="zodiac-çŒ´">
                        <label for="zodiac-çŒ´">çŒ´</label>
                    </div>
                    <div class="checkbox-item" data-value="é¸¡">
                        <input type="checkbox" id="zodiac-é¸¡">
                        <label for="zodiac-é¸¡">é¸¡</label>
                    </div>
                    <div class="checkbox-item" data-value="ç‹—">
                        <input type="checkbox" id="zodiac-ç‹—">
                        <label for="zodiac-ç‹—">ç‹—</label>
                    </div>
                    <div class="checkbox-item" data-value="çŒª">
                        <input type="checkbox" id="zodiac-çŒª">
                        <label for="zodiac-çŒª">çŒª</label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>äº”è¡Œåå¥½ï¼ˆå¯å¤šé€‰ï¼‰</label>
                <div class="checkbox-group" id="wuxingGroup">
                    <div class="checkbox-item" data-value="é‡‘">
                        <input type="checkbox" id="wuxing-é‡‘">
                        <label for="wuxing-é‡‘">é‡‘</label>
                    </div>
                    <div class="checkbox-item" data-value="æœ¨">
                        <input type="checkbox" id="wuxing-æœ¨">
                        <label for="wuxing-æœ¨">æœ¨</label>
                    </div>
                    <div class="checkbox-item" data-value="æ°´">
                        <input type="checkbox" id="wuxing-æ°´">
                        <label for="wuxing-æ°´">æ°´</label>
                    </div>
                    <div class="checkbox-item" data-value="ç«">
                        <input type="checkbox" id="wuxing-ç«">
                        <label for="wuxing-ç«">ç«</label>
                    </div>
                    <div class="checkbox-item" data-value="åœŸ">
                        <input type="checkbox" id="wuxing-åœŸ">
                        <label for="wuxing-åœŸ">åœŸ</label>
                    </div>
                </div>
            </div>

            <button class="generate-btn" onclick="generateNames()">
                ğŸ¯ ç”Ÿæˆå¥½åå­—
            </button>

            <div style="margin-top: 20px; text-align: center; color: #666; font-size: 0.9em;">
                <p>ğŸ’¡ <strong>å°è´´å£«ï¼š</strong>ä¸é€‰æ‹©ç­›é€‰æ¡ä»¶å°†ç”Ÿæˆæ›´å¤šæ ·åŒ–çš„åå­—</p>
                <p>ğŸ¨ æ¯æ¬¡ç”Ÿæˆ8ä¸ªç²¾é€‰å¥½åå­—ï¼Œç‚¹å‡»åå­—å¡ç‰‡æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</p>
            </div>
        </div>

        <div class="results-section" id="resultsSection">
            <h2 class="results-title">ä¸ºæ‚¨æ¨èçš„å¥½åå­—</h2>
            <div style="text-align: center; margin-bottom: 20px; color: #666; font-size: 0.9em;">
                âœ¨ ç‚¹å‡»åå­—å¡ç‰‡çš„"è¯¦æƒ…"æŒ‰é’®æŸ¥çœ‹æ‹¼éŸ³ã€ç¬”ç”»ã€äº”è¡Œç­‰ä¿¡æ¯
            </div>
            <div class="names-grid" id="namesGrid"></div>
        </div>

        <footer style="background: #f8f9fa; padding: 30px; text-align: center; margin-top: 40px; border-top: 1px solid #e1e8ed;">
            <div style="color: #666; margin-bottom: 15px;">
                <h3 style="color: #333; margin-bottom: 10px;">ğŸŒŸ ä¸­æ–‡å–åç¥å™¨ç‰¹è‰²</h3>
                <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 20px; font-size: 0.9em;">
                    <div>ğŸ“š <strong>ä¸°å¯Œå­—åº“</strong><br>ç²¾é€‰æ±‰å­—ï¼Œå¯“æ„ç¾å¥½</div>
                    <div>ğŸ¯ <strong>æ™ºèƒ½ç­›é€‰</strong><br>æ€§åˆ«ã€äº”è¡Œã€ç”Ÿè‚–åŒ¹é…</div>
                    <div>ğŸ“ <strong>è¯¦ç»†è§£æ</strong><br>æ‹¼éŸ³ã€ç¬”ç”»ã€å¯“æ„è¯´æ˜</div>
                    <div>âš¡ <strong>å¿«é€Ÿç”Ÿæˆ</strong><br>ä¸€é”®ç”Ÿæˆå¤šä¸ªé€‰æ‹©</div>
                </div>
            </div>
            <div style="color: #999; font-size: 0.8em; border-top: 1px solid #ddd; padding-top: 15px;">
                <p>ğŸ’ ç”¨å¿ƒä¸ºæ¯ä¸ªå®è´èµ·å¥½åå­— | ğŸ€ æ„¿æ¯ä¸ªåå­—éƒ½æ‰¿è½½ç¾å¥½ç¥æ„¿</p>
                <p style="margin-top: 5px;">Â© 2024 ä¸­æ–‡å–åç¥å™¨ - è®©èµ·åå˜å¾—ç®€å•è€Œæœ‰æ„ä¹‰</p>
            </div>
        </footer>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // å¸¸ç”¨å­—åº“ - æ‰©å±•ç‰ˆ
        const nameDatabase = {
            male: {
                single: {
                    é‡‘: ['é”', 'é‘«', 'é’§', 'é“­', 'é’¦', 'é”‹', 'é’°', 'éŠ®', 'é•‡', 'é“ ', 'åˆš', 'åˆ©', 'å‰‘', 'é’¢', 'é“', 'é“¶', 'é’ˆ', 'é’Š', 'é’Ÿ', 'é”¦', 'é’¤', 'é’¿', 'é“', 'é”¡', 'é’¨'],
                    æœ¨: ['æ—', 'æ£®', 'æ°', 'æ¡', 'æ ‹', 'æ¥ ', 'æŸ', 'æ¢“', 'æ¦•', 'æ«', 'æ¾', 'ç«¹', 'èŒ‚', 'è“¬', 'èŠ³', 'è‹—', 'èŒ', 'è£', 'å', 'è‹±', 'è•ƒ', 'è’²', 'è“', 'è±', 'è²'],
                    æ°´: ['æ¶›', 'æµ©', 'æ±Ÿ', 'æ²³', 'æµ·', 'æ³¢', 'æµ', 'æ¶¦', 'æ³½', 'æº', 'æ¸…', 'æ´', 'æºª', 'æ¹–', 'é›¨', 'éœ–', 'éœ', 'éœ†', 'éœ²', 'éœˆ', 'æ²›', 'æ´‹', 'æ´ª', 'æ´', 'æ´º'],
                    ç«: ['ç‚', 'ç„±', 'çƒ¨', 'ç…œ', 'ç¿', 'è¾‰', 'è€€', 'ç‚œ', 'ç„˜', 'ç‡Š', 'é˜³', 'å…‰', 'æ˜', 'äº®', 'çƒ­', 'æ™¨', 'æ˜Š', 'æ˜•', 'æ—­', 'æ™–', 'æ™”', 'æ™—', 'æš„', 'æ›¦', 'æ›œ'],
                    åœŸ: ['å¤', 'å®‡', 'ç£Š', 'å³°', 'å²³', 'åŸ', 'åŸ¹', 'å ‚', 'å¢¨', 'åš', 'å±±', 'çŸ³', 'å²©', 'åœ°', 'ç”°', 'åŠ', 'åš', 'å¦', 'å¦', 'åŸ”', 'å ª', 'å¡˜', 'å¢©', 'å£', 'å£®']
                },
                double: {
                    é€šç”¨: ['å¿—è¿œ', 'å®‡è½©', 'æµ©ç„¶', 'å­æ¶µ', 'æ¢“è±ª', 'ä¿Šæ°', 'å¤©ä½‘', 'æ–‡æ˜Š', 'ä¿®æ°', 'é»æ˜•', 'è¿œèˆª', 'æ—­å°§', 'é¸¿æ¶›', 'ä¼Ÿç¥º', 'è£è½©', 'è¶Šæ³½', 'æµ©å®‡', 'ç‘¾ç‘œ', 'çš“è½©', 'æ“è‹', 'æ“å®‡', 'å¿—æ³½', 'ç¿æ¸Š', 'æ¥·ç‘', 'è½©åš', 'è‹‘æ°', 'é›¨æ³½', 'çƒ¨ç£Š', 'æ™Ÿç¿', 'æ‰¿å¾·', 'å¼˜æ–‡', 'é«˜æ ¼', 'å…‰å', 'å›½å', 'æ™—æ˜±', 'æ¶µç…¦', 'é¸¿å“', 'å˜‰æ‡¿', 'å»ºå', 'é‡‘é‘«', 'é”¦ç¨‹', 'ç‘¾ç‘œ', 'é¹æ¶›', 'é¹ç¨‹', 'ç»æ™–', 'æ–‡æ™¯', 'å¼¦è¾‰', 'å­¦çœŸ', 'é›…æ˜¶', 'è‹±éŸ¶', 'æ°¸è´', 'å’å¾·', 'å®‡å¯°', 'é›¨æ³½', 'ç‰éŸµ', 'æ™ºå®‡', 'è‡´è¿œ', 'å­æ¿¯', 'ç¥–ä¼Ÿ'],
                    é‡‘: ['é”è¿›', 'é‘«ç£Š', 'é’§å¤©', 'é“­å¿—', 'é’¦æ˜', 'é”‹èŒƒ', 'é’°è½©', 'é•‡å®‡', 'é“ ç”²', 'é“¶æ²³', 'é‡‘åŸ', 'é’¢é“', 'åˆ©å‰‘', 'åˆšæ¯…', 'é”¦ç»£', 'é’Ÿé¸£', 'é“å£°', 'é”¡çº¯', 'é’¨åš', 'é’¿å'],
                    æœ¨: ['æ—æ¶›', 'æ£®ä¸¥', 'æ°å‡º', 'æ¡å', 'æ ‹æ¢', 'æ¥ æœ¨', 'æŸé’', 'æ¢“è½©', 'æ¦•æ ‘', 'æ«å¶', 'æ¾æŸ', 'ç«¹é’', 'èŒ‚ç››', 'è£å', 'è‹±æ°', 'è“¬å‹ƒ', 'èŠ³æ³½', 'è‹—å£®', 'èŒå®', 'è“å¤©'],
                    æ°´: ['æ¶›å£°', 'æµ©ç€š', 'æ±Ÿå±±', 'æ²³æµ', 'æµ·æ´‹', 'æ³¢æ¶›', 'æµæ°´', 'æ¶¦æ³½', 'æºè¿œ', 'æ¸…æ³‰', 'æ´å‡€', 'æºªæµ', 'æ¹–å…‰', 'é›¨éœ²', 'éœ–æ³½', 'æ²›ç„¶', 'æ´‹æº¢', 'æ´ªäº®', 'æ´æ˜', 'æ´ºæ²³'],
                    ç«: ['ç‚é»„', 'çƒ¨å', 'ç…œæ˜', 'ç¿çƒ‚', 'è¾‰ç…Œ', 'è€€çœ¼', 'ç‚œçƒ¨', 'ç„˜å¤©', 'ç‡Šç‡Š', 'çƒˆç«', 'é˜³å…‰', 'å…‰æ˜', 'æ˜äº®', 'çƒ­å¿±', 'æ™¨æ›¦', 'æ˜Šå¤©', 'æ˜•ç„¶', 'æ—­æ—¥', 'æ™–æ˜ ', 'æ™”å'],
                    åœŸ: ['å¤é¹', 'å®‡å®™', 'ç£Šè½', 'å³°å³¦', 'å²³å±±', 'åŸæ± ', 'åŸ¹å…ƒ', 'å ‚æ­£', 'å¢¨å®¢', 'å¤§åœ°', 'å±±æ²³', 'çŸ³åš', 'å²©æ¾', 'ç”°å›­', 'åŠé—´', 'åšå®', 'å¦è¡', 'å¦æ‹“', 'åŸ”é‡', 'å ªå½“']
                }
            },
            female: {
                single: {
                    é€šç”¨: ['é›…', 'æ¬£', 'ç³', 'æ¢¦', 'å©·', 'å¨œ', 'è‰', 'è±', 'è–‡', 'è“‰', 'å¦', 'é¢–', 'æ´', 'é™', 'ç¾', 'ä¸½', 'èŠ³', 'é¦™', 'ç‰', 'ç ', 'æ™¶', 'æ…§', 'æ•', 'èª', 'ç§€', 'å¨Ÿ', 'è•¾', 'èŠ±', 'èŠ¬', 'å…°', 'èŠ', 'è·', 'æ¡ƒ', 'æ', 'æ¢…', 'é›ª', 'éœ', 'äº‘', 'æœˆ', 'æ˜Ÿ'],
                    é‡‘: ['é’°', 'é‘«', 'é”¦', 'é“¶', 'é“ƒ', 'é’¿', 'é•¯', 'é“¾', 'ç¯', 'é’—', 'é’', 'é•‡', 'é”', 'é”‹', 'é’§'],
                    æœ¨: ['æ—', 'æ£®', 'æ¢…', 'å…°', 'ç«¹', 'èŠ', 'è·', 'è²', 'èŒ‰', 'æ¡‚', 'æ¨±', 'æ', 'æ¡ƒ', 'æŸ³', 'æ§¿'],
                    æ°´: ['é›¨', 'éœ²', 'éœ–', 'éœ', 'é›ª', 'éœ', 'äº‘', 'æºª', 'æ³‰', 'æ¹–', 'æµ·', 'æ³¢', 'æ¶Ÿ', 'æ¼ª', 'æ²'],
                    ç«: ['æ™¨', 'æ›¦', 'é˜³', 'å…‰', 'æ˜', 'äº®', 'ç„°', 'çƒ›', 'ç¯', 'è¾‰', 'è€€', 'ç¿', 'ç…œ', 'ç‚œ', 'æ™–'],
                    åœŸ: ['ç‰', 'ç ', 'ç‘¶', 'çª', 'ç’', 'ç‘¾', 'ç‘œ', 'ç’Ÿ', 'ç¬', 'ç°', 'ç‘›', 'ç¦', 'ç´', 'ç‘', 'ç’']
                },
                double: {
                    é€šç”¨: ['é›…é™', 'æ¬£æ€¡', 'ç³å¨œ', 'æ¢¦æ´', 'å©·ç¾', 'å¨œä¸½', 'è‰é›…', 'è±å®', 'è–‡è–‡', 'è“‰è“‰', 'å¦å¦', 'é¢–æ…§', 'æ´å‡€', 'é™æ€¡', 'ç¾ä¸½', 'ä¸½å', 'èŠ³è²', 'é¦™é›ª', 'ç‰æ´', 'ç å…‰', 'æ™¶è¹', 'æ…§æ•', 'æ•æ·', 'èªé¢–', 'ç§€ç¾', 'å¨Ÿç§€', 'è•¾ä¸', 'èŠ±å¼€', 'èŠ¬èŠ³', 'å…°å¿ƒ', 'èŠèŠ±', 'è·èŠ±', 'æ¡ƒèŠ±', 'æèŠ±', 'æ¢…èŠ±', 'é›ªèŠ±', 'éœå…‰', 'äº‘æœµ', 'æœˆäº®', 'æ˜Ÿæ˜Ÿ', 'å®‰ç„¶', 'ç™½é›ª', 'ç¢§ç´', 'å†°å¿ƒ', 'åšé›…', 'æ˜¥é›ª', 'ä¸¹ä¸¹', 'èŠ³æ‡¿', 'èŠ³èŒµ', 'èŠ³æ¶¦', 'é£å', 'æ€€ç‰', 'æ…§æœˆ', 'å˜‰ç¾', 'æ™¶æ»¢', 'é™å¨´', 'å…°è‹¥', 'ä¸½æ³½', 'ç¾å', 'æ¢¦é›¨', 'ç§‹é¢–', 'æŸ”æ€€', 'è‹¥äº‘', 'è¯—æ€€', 'æ·‘è´', 'å©‰é™', 'æ–‡èŒµ', 'å¤å…°', 'å¿ƒæ€¡', 'é›…è•Š', 'é›å‰', 'å¿†æ¢…', 'åŸæ€€', 'æ˜ é›', 'å¹¼æ€¡', 'è¯­ç‡•', 'æœˆæ€¡', 'æ‚¦å¿ƒ', 'éŸµè¯—', 'éŸµæµ', 'å­œå­œ'],
                    é‡‘: ['é’°è¹', 'é‘«æ€¡', 'é”¦é›¯', 'é“¶é“ƒ', 'é“ƒéŸ³', 'é’¿å', 'é•¯ç¾', 'é“¾å¿ƒ', 'ç¯ä½©', 'é’—å¤´', 'é’é•¯', 'é•‡é™', 'é”æ€', 'é”‹èŠ’', 'é’§å¤©'],
                    æœ¨: ['æ—è¯­', 'æ£®è•Š', 'æ¢…é¦™', 'å…°å¿ƒ', 'ç«¹éŸµ', 'èŠè‹±', 'è·é¦™', 'è²èŠ±', 'èŒ‰è‰', 'æ¡‚èŠ±', 'æ¨±æ¡ƒ', 'æèŠ±', 'æ¡ƒæ', 'æŸ³çµ®', 'æ§¿èŠ±'],
                    æ°´: ['é›¨å©·', 'éœ²ç ', 'éœ–é›¨', 'éœéœ', 'é›ªè²', 'éœå…‰', 'äº‘æœµ', 'æºªæ°´', 'æ³‰æº', 'æ¹–å…‰', 'æµ·éŸµ', 'æ³¢æ¾œ', 'æ¶Ÿæ¼ª', 'æ¼ªæ¶Ÿ', 'æ²å¿ƒ'],
                    ç«: ['æ™¨æ›¦', 'æ›¦å…‰', 'é˜³å…‰', 'å…‰å', 'æ˜ç ', 'äº®ä¸½', 'ç„°ç«', 'çƒ›å…‰', 'ç¯ç«', 'è¾‰ç…Œ', 'è€€çœ¼', 'ç¿çƒ‚', 'ç…œå©·', 'ç‚œç³', 'æ™–æ˜ '],
                    åœŸ: ['ç‰æ´', 'ç ç‰', 'ç‘¶æ± ', 'çªèŠ±', 'ç’ç’', 'ç‘¾ç‘œ', 'ç‘œä¼½', 'ç’Ÿé›¯', 'ç¬ç°', 'ç°ç¬', 'ç‘›ç‘¶', 'ç¦çª', 'ç´å¿ƒ', 'ç‘é›ª', 'ç’ç‰']
                }
            }
        };

        // åå­—å¯“æ„åº“ - æ‰©å±•ç‰ˆ
        const nameMeanings = {
            // ç”·æ€§å•å­—
            'é”': 'æœºæ•é”åˆ©ï¼Œå‹‡å¾€ç›´å‰',
            'é‘«': 'è´¢å¯Œå…´ç››ï¼Œäº‹ä¸šå‘è¾¾',
            'é’§': 'å°Šè´µå¨ä¸¥ï¼Œæƒè¡¡å¤©ä¸‹',
            'é“­': 'æ·±æ·±é“­è®°ï¼Œæ°¸ä¸å¿˜æ€€',
            'é’¦': 'æ­æ•¬ä»°æ…•ï¼Œå“å¾·é«˜å°š',
            'é”‹': 'é”‹èŠ’æ¯•éœ²ï¼Œæ‰åå‡ºä¼—',
            'é’°': 'çè´µå¦‚ç‰ï¼Œå“æ ¼é«˜æ´',
            'æµ©': 'æ°”åŠ¿å®å¤§ï¼Œå¿ƒèƒ¸å¼€é˜”',
            'æ¶›': 'æ³¢æ¾œå£®é˜”ï¼Œå¿—å‘è¿œå¤§',
            'æ±Ÿ': 'å®¹çº³ç™¾å·ï¼Œèƒ¸æ€€å®½å¹¿',
            'æ²³': 'æºè¿œæµé•¿ï¼Œç”Ÿç”Ÿä¸æ¯',
            'æµ·': 'æµ·çº³ç™¾å·ï¼ŒåŒ…å®¹ä¸‡ç‰©',
            'æ—': 'éƒéƒè‘±è‘±ï¼Œç”Ÿæœºç›ç„¶',
            'æ£®': 'èŒ‚å¯†ç¹ç››ï¼Œæ ¹æ·±å¶èŒ‚',
            'æ°': 'æ‰åæ¨ªæº¢ï¼Œå‡ºç±»æ‹”èƒ',
            'æ¡': 'é«˜æ´åšè´ï¼Œå“æ ¼å¦‚æ¢§æ¡',
            'æ ‹': 'å›½ä¹‹æ ‹æ¢ï¼Œæ”¯æ’‘å¤§å¦',
            'ç‚': 'çƒ­æƒ…å¦‚ç«ï¼Œç§¯æå‘ä¸Š',
            'ç„±': 'å…‰èŠ’å››å°„ï¼Œå‰ç¨‹ä¼¼é”¦',
            'çƒ¨': 'å…‰è¾‰ç¿çƒ‚ï¼Œæˆå°±éå‡¡',
            'å¤': 'åšå¾·è½½ç‰©ï¼ŒåŒ…å®¹å¤©ä¸‹',
            'å®‡': 'æ°”å®‡è½©æ˜‚ï¼Œèƒ¸æ€€å®‡å®™',
            'ç£Š': 'å…‰æ˜ç£Šè½ï¼Œå¦è¡å›å­',

            // å¥³æ€§å•å­—
            'é›…': 'é«˜é›…è„±ä¿—ï¼Œå“æ ¼é«˜å°š',
            'æ¬£': 'æ¬¢ä¹å–œæ‚¦ï¼Œç”Ÿæœºå‹ƒå‹ƒ',
            'ç³': 'ç¾ç‰æ— ç‘•ï¼Œçè´µç¾å¥½',
            'æ¢¦': 'æ¢¦æƒ³æˆçœŸï¼Œè¿½æ±‚ç†æƒ³',
            'å©·': 'äº­äº­ç‰ç«‹ï¼Œç¾ä¸½åŠ¨äºº',
            'å¨œ': 'å©€å¨œå¤šå§¿ï¼Œé£å§¿ç»°çº¦',
            'è‰': 'èŒ‰è‰èŠ±é¦™ï¼Œçº¯æ´ç¾å¥½',
            'è±': 'è±è‰å¿˜å¿§ï¼Œå¿«ä¹æ— å¿§',
            'è–‡': 'è”·è–‡èŠ±ç¾ï¼ŒèŠ¬èŠ³è¿·äºº',
            'è“‰': 'èŠ™è“‰å¦‚é¢ï¼Œç¾ä¸½æ¸©å©‰',
            'å¦': 'ç¾ä¸½åŠ¨äººï¼Œå®¹é¢œå¨‡å¥½',
            'é¢–': 'èªé¢–è¿‡äººï¼Œæ™ºæ…§è¶…ç¾¤',
            'æ´': 'çº¯æ´æ— ç‘•ï¼Œå“æ ¼æ¸…é«˜',
            'é™': 'å®é™è‡´è¿œï¼Œå†…å¿ƒå¹³å’Œ',
            'ç¾': 'ç¾å¥½å¦‚ç”»ï¼Œäººè§äººçˆ±',
            'é’°': 'çè´µå¦‚å®ï¼Œä»·å€¼è¿åŸ',
            'é‘«': 'è´¢è¿äº¨é€šï¼Œé‡‘ç‰æ»¡å ‚',
            'éœ²': 'éœ²ç æ™¶è¹ï¼Œçº¯æ´é€æ˜',
            'éœ–': 'ç”˜éœ²æ™®é™ï¼Œæ¶¦æ³½ä¸‡ç‰©',
            'ç‰': 'æ¸©æ¶¦å¦‚ç‰ï¼Œå“æ ¼é«˜æ´',
            'ç‘¶': 'ç¾ç‰æ— ç‘•ï¼Œçè´µéš¾å¾—',
            'æ™¨': 'æ™¨å…‰ç†¹å¾®ï¼Œæ–°çš„å¼€å§‹',
            'æ›¦': 'æ™¨æ›¦å¾®éœ²ï¼Œå¸Œæœ›ä¹‹å…‰',

            // ç”·æ€§åŒå­—å
            'å¿—è¿œ': 'å¿—å‘è¿œå¤§ï¼Œç›®æ ‡æ˜ç¡®',
            'å®‡è½©': 'æ°”å®‡è½©æ˜‚ï¼Œé£åº¦ç¿©ç¿©',
            'æµ©ç„¶': 'æ­£æ°”å‡›ç„¶ï¼Œå¿ƒèƒ¸å¹¿é˜”',
            'å­æ¶µ': 'æ¶µå…»æ·±åšï¼Œä¿®å…»æå¥½',
            'æ¢“è±ª': 'æ‰åå‡ºä¼—ï¼Œè±ªæ°”å¹²äº‘',
            'ä¿Šæ°': 'ä¿Šç§€è‹±æ°ï¼Œæ‰è²ŒåŒå…¨',
            'å¤©ä½‘': 'å¤©åŠ©ç¥ä½‘ï¼Œç¦æ³½æ·±åš',
            'æ–‡æ˜Š': 'æ–‡é‡‡é£æ‰¬ï¼Œèƒ¸æ€€å¦‚æ˜Šå¤©',
            'ä¿®æ°': 'ä¿®èº«å…»æ€§ï¼Œæ°å‡ºä¸å‡¡',
            'è¿œèˆª': 'è¿œå¤§ç†æƒ³ï¼Œæ‰¬å¸†å¯èˆª',
            'é”è¿›': 'é”æ„è¿›å–ï¼Œå‹‡æ”€é«˜å³°',
            'é‘«ç£Š': 'è´¢å¯Œä¸°ç››ï¼Œå“æ ¼ç£Šè½',
            'é’§å¤©': 'å°Šè´µå¦‚å¤©ï¼Œå¨ä¸¥åº„é‡',
            'é“­å¿—': 'é“­è®°åœ¨å¿ƒï¼Œç«‹å¿—é«˜è¿œ',
            'æ‰¿å¾·': 'æ‰¿ç»§ç¾å¾·ï¼Œå“æ ¼é«˜å°š',
            'å¼˜æ–‡': 'å¼˜æ‰¬æ–‡åŒ–ï¼Œå­¦è¯†æ¸Šåš',
            'è‡´è¿œ': 'å¿—å­˜é«˜è¿œï¼Œè¿½æ±‚å“è¶Š',
            'ç¿æ¸Š': 'ç¿æ™ºæ·±é‚ƒï¼Œå­¦é—®æ¸Šåš',
            'æ¥·ç‘': 'å“è¡Œç«¯æ­£ï¼Œç‘æ°”ç›ˆé—¨',

            // å¥³æ€§åŒå­—å
            'é›…é™': 'ä¼˜é›…å®‰é™ï¼Œæ¸©æ–‡å°”é›…',
            'æ¬£æ€¡': 'å¿ƒæƒ…æ„‰æ‚¦ï¼Œå¿«ä¹å¹¸ç¦',
            'ç³å¨œ': 'ç¾ä¸½å¦‚ç‰ï¼Œä¼˜é›…åŠ¨äºº',
            'æ¢¦æ´': 'æ¢¦æƒ³çº¯æ´ï¼Œè¿½æ±‚ç¾å¥½',
            'å©·ç¾': 'ç¾ä¸½åŠ¨äººï¼Œå¦‚èŠ±ä¼¼ç‰',
            'å¨œä¸½': 'ç¾ä¸½å¤§æ–¹ï¼Œé£å§¿ç»°çº¦',
            'è‰é›…': 'æ¸…é¦™é›…è‡´ï¼Œçº¯æ´ç¾å¥½',
            'è±å®': 'å¿«ä¹å®‰å®ï¼Œæ— å¿§æ— è™‘',
            'é¢–æ…§': 'èªé¢–æ…§æ™ºï¼Œæ‰æ€æ•æ·',
            'æ´å‡€': 'çº¯æ´å¹²å‡€ï¼Œå“æ ¼é«˜å°š',
            'é™æ€¡': 'å®‰é™æ€¡ç„¶ï¼Œå†…å¿ƒå¹³å’Œ',
            'ç¾ä¸½': 'ç¾ä¸½åŠ¨äººï¼Œå®¹é¢œå§£å¥½',
            'èŠ³è²': 'èŠ¬èŠ³ç¾ä¸½ï¼Œå¦‚èŠ±ç»½æ”¾',
            'é¦™é›ª': 'æ¸…é¦™å¦‚é›ªï¼Œçº¯æ´ç¾å¥½',
            'ç‰æ´': 'æ´ç™½å¦‚ç‰ï¼Œå“æ ¼é«˜æ´',
            'ç å…‰': 'ç åœ†ç‰æ¶¦ï¼Œå…‰å½©ç…§äºº',
            'æ™¶è¹': 'æ™¶è¹å‰”é€ï¼Œçº¯å‡€ç¾å¥½',
            'æ…§æ•': 'æ™ºæ…§æ•æ·ï¼Œæ‰æ€è¿‡äºº',
            'é’°è¹': 'çè´µæ™¶è¹ï¼Œä»·å€¼éå‡¡',
            'é›¨å©·': 'å¦‚é›¨æ¶¦ç‰©ï¼Œäº­äº­ç‰ç«‹',
            'æ™¨æ›¦': 'æ™¨å…‰åˆç°ï¼Œå……æ»¡å¸Œæœ›',
            'å®‰ç„¶': 'å¹³å®‰è‡ªç„¶ï¼Œå¿ƒå¢ƒå®‰è¯¦',
            'åšé›…': 'åšå­¦é›…è‡´ï¼Œæ‰è¯†å¹¿åš',
            'æ˜¥é›ª': 'æ˜¥é›ªçº¯æ´ï¼Œç¾å¥½å¦‚åˆ',
            'å¿ƒæ€¡': 'å¿ƒæƒ…æ„‰æ‚¦ï¼Œæ€¡ç„¶è‡ªå¾—',
            'é›…è•Š': 'é«˜é›…å¦‚èŠ±è•Šï¼Œæ¸…é¦™æ·¡é›…',
            'æœˆæ€¡': 'å¦‚æœˆæ¸…è¾‰ï¼Œå¿ƒæƒ…æ„‰æ‚¦',
            'éŸµè¯—': 'éŸµå‘³å¦‚è¯—ï¼Œæ–‡é›…åŠ¨äºº'
        };

        // ç”Ÿè‚–å–œç”¨å­—
        const zodiacChars = {
            'é¼ ': ['å®€', 'ç±³', 'è±†', 'é±¼', 'è‰¹', 'é‡‘', 'ç‰', 'äºº', 'æœ¨', 'æœˆ', 'ç”°', 'é’…'],
            'ç‰›': ['è‰¹', 'è¾¶', 'å®€', 'ç”°', 'ç¦¾', 'è±†', 'ç±³', 'éº¦', 'æ¢', 'è½¦'],
            'è™': ['å±±', 'æ—', 'ç‹', 'å›', 'ä»¤', 'å¤§', 'è‚‰', 'æœˆ', 'å¿ƒ', 'é©¬', 'åˆ', 'ç«'],
            'å…”': ['æœˆ', 'è‰¹', 'å±±', 'ç”°', 'äºº', 'ç¦¾', 'æœ¨', 'å®€', 'é‡‘', 'ç™½', 'ç‰', 'è±†'],
            'é¾™': ['æ—¥', 'æœˆ', 'æ˜Ÿ', 'äº‘', 'è¾°', 'æ°´', 'é›¨', 'ç‹', 'å¤§', 'å›', 'ä¸»', 'å¸'],
            'è›‡': ['è‰¹', 'è™«', 'è±†', 'é±¼', 'é…‰', 'æœ¨', 'ç¦¾', 'ç”°', 'å±±', 'é‡‘', 'ç‰'],
            'é©¬': ['è‰¹', 'é‡‘', 'ç‰', 'æœ¨', 'ç¦¾', 'è™«', 'ç±³', 'äºº', 'æœˆ', 'åœŸ', 'æ‰', 'é’…'],
            'ç¾Š': ['è‰¹', 'ç¦¾', 'è±†', 'ç±³', 'éº¦', 'æ¢', 'ç«¹', 'é©¬', 'é‡‘', 'ç™½'],
            'çŒ´': ['æœ¨', 'ç¦¾', 'é‡‘', 'ç‰', 'è±†', 'ç±³', 'ç”°', 'å±±', 'æœˆ', 'æ°´'],
            'é¸¡': ['ç¦¾', 'è±†', 'ç±³', 'ç²±', 'éº¦', 'ç²Ÿ', 'å®€', 'å†–', 'å±±', 'è‰¹', 'æ—¥', 'é‡‘'],
            'ç‹—': ['äºº', 'äº»', 'å…¥', 'å®€', 'å†–', 'é©¬', 'å·¾', 'çºŸ', 'ç¤º', 'å¿ƒ', 'å¿„', 'æœˆ'],
            'çŒª': ['è±†', 'ç¦¾', 'ç±³', 'è‰', 'é‡‘', 'æœˆ', 'æœ¨', 'å®€', 'å±±', 'åœŸ', 'è‰¹', 'æ°µ']
        };

        // äº”è¡Œå±æ€§å­—åº“
        const wuxingChars = {
            'é‡‘': ['é”', 'é‘«', 'é’§', 'é“­', 'é’¦', 'é”‹', 'é’°', 'éŠ®', 'é•‡', 'é“ ', 'åˆš', 'åˆ©', 'å‰‘', 'é’¢', 'é“'],
            'æœ¨': ['æ—', 'æ£®', 'æ°', 'æ¡', 'æ ‹', 'æ¥ ', 'æŸ', 'æ¢“', 'æ¦•', 'æ«', 'æ¾', 'ç«¹', 'èŒ‚', 'è“¬', 'èŠ³'],
            'æ°´': ['æ¶›', 'æµ©', 'æ±Ÿ', 'æ²³', 'æµ·', 'æ³¢', 'æµ', 'æ¶¦', 'æ³½', 'æº', 'æ¸…', 'æ´', 'æºª', 'æ¹–', 'é›¨'],
            'ç«': ['ç‚', 'ç„±', 'çƒ¨', 'ç…œ', 'ç¿', 'è¾‰', 'è€€', 'ç‚œ', 'ç„˜', 'ç‡Š', 'é˜³', 'å…‰', 'æ˜', 'äº®', 'çƒ­'],
            'åœŸ': ['å¤', 'å®‡', 'ç£Š', 'å³°', 'å²³', 'åŸ', 'åŸ¹', 'å ‚', 'å¢¨', 'åš', 'å±±', 'çŸ³', 'å²©', 'åœ°', 'ç”°']
        };

        // åˆå§‹åŒ–å¤é€‰æ¡†äº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            // ä¸ºæ‰€æœ‰å¤é€‰æ¡†é¡¹æ·»åŠ ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.checkbox-item').forEach(item => {
                item.addEventListener('click', function() {
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    checkbox.checked = !checkbox.checked;
                    this.classList.toggle('checked', checkbox.checked);
                });
            });
        });

        // ç”Ÿæˆåå­—ä¸»å‡½æ•° - å¢åŠ è°ƒè¯•
        function generateNames() {
            const surname = document.getElementById('surname').value.trim();
            if (!surname) {
                showToast('è¯·è¾“å…¥å§“æ°ï¼');
                return;
            }

            if (surname.length > 2) {
                showToast('å§“æ°æœ€å¤š2ä¸ªå­—ï¼');
                return;
            }

            const button = document.querySelector('.generate-btn');
            button.disabled = true;
            button.innerHTML = 'ç”Ÿæˆä¸­...';

            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            const resultsSection = document.getElementById('resultsSection');
            const namesGrid = document.getElementById('namesGrid');
            resultsSection.classList.add('show');
            namesGrid.innerHTML = '<div class="loading">æ­£åœ¨ä¸ºæ‚¨ç”Ÿæˆå¥½åå­—</div>';

            // æ¨¡æ‹Ÿç”Ÿæˆå»¶è¿Ÿï¼Œå¢åŠ ä»ªå¼æ„Ÿ
            setTimeout(() => {
                try {
                    const names = doGenerateNames(surname);
                    console.log('ç”Ÿæˆçš„åå­—æ•°é‡:', names.length); // è°ƒè¯•ä¿¡æ¯
                    console.log('ç”Ÿæˆçš„åå­—:', names); // è°ƒè¯•ä¿¡æ¯

                    // å¦‚æœæ²¡æœ‰ç”Ÿæˆä»»ä½•åå­—ï¼Œåˆ›å»ºä¸€äº›é»˜è®¤åå­—
                    if (names.length === 0) {
                        const defaultNames = createDefaultNames();
                        displayNames(defaultNames);
                    } else {
                        displayNames(names);
                    }
                } catch (error) {
                    console.error('ç”Ÿæˆåå­—æ—¶å‡ºé”™:', error);
                    // å‡ºé”™æ—¶ä¹Ÿæä¾›é»˜è®¤åå­—
                    const defaultNames = createDefaultNames();
                    displayNames(defaultNames);
                }

                button.disabled = false;
                button.innerHTML = 'ğŸ¯ ç”Ÿæˆå¥½åå­—';
            }, 1500);
        }

        // åˆ›å»ºé»˜è®¤åå­—ä½œä¸ºå¤‡ç”¨
        function createDefaultNames() {
            const defaultMaleNames = [
                { name: 'å¿—è¿œ', meaning: 'å¿—å‘è¿œå¤§ï¼Œç›®æ ‡æ˜ç¡®' },
                { name: 'æµ©ç„¶', meaning: 'æ­£æ°”å‡›ç„¶ï¼Œå¿ƒèƒ¸å¹¿é˜”' },
                { name: 'å®‡è½©', meaning: 'æ°”å®‡è½©æ˜‚ï¼Œé£åº¦ç¿©ç¿©' },
                { name: 'ä¿Šæ°', meaning: 'ä¿Šç§€è‹±æ°ï¼Œæ‰è²ŒåŒå…¨' }
            ];

            const defaultFemaleNames = [
                { name: 'é›…é™', meaning: 'ä¼˜é›…å®‰é™ï¼Œæ¸©æ–‡å°”é›…' },
                { name: 'æ¬£æ€¡', meaning: 'å¿ƒæƒ…æ„‰æ‚¦ï¼Œå¿«ä¹å¹¸ç¦' },
                { name: 'ç³å¨œ', meaning: 'ç¾ä¸½å¦‚ç‰ï¼Œä¼˜é›…åŠ¨äºº' },
                { name: 'æ¢¦æ´', meaning: 'æ¢¦æƒ³çº¯æ´ï¼Œè¿½æ±‚ç¾å¥½' }
            ];

            const gender = document.getElementById('gender').value;
            if (gender === 'male') {
                return defaultMaleNames;
            } else if (gender === 'female') {
                return defaultFemaleNames;
            } else {
                return [...defaultMaleNames, ...defaultFemaleNames];
            }
        }

        // å®é™…ç”Ÿæˆåå­—é€»è¾‘
        function doGenerateNames(surname) {
            const gender = document.getElementById('gender').value;
            const nameLength = document.getElementById('nameLength').value;
            const selectedZodiacs = getSelectedValues('zodiacGroup');
            const selectedWuxing = getSelectedValues('wuxingGroup');

            let names = [];
            const targetCount = 8; // ç”Ÿæˆ8ä¸ªåå­—

            // æ ¹æ®æ€§åˆ«é€‰æ‹©å­—åº“
            let charPool = [];

            if (gender === 'male') {
                if (nameLength === '1') {
                    charPool = getAllCharsFromObject(nameDatabase.male.single);
                } else if (nameLength === '2') {
                    return generateDoubleNames(nameDatabase.male.double, selectedWuxing, targetCount);
                } else {
                    // æ··åˆå•å­—å’ŒåŒå­—å
                    const singleNames = generateSingleNames(nameDatabase.male.single, selectedWuxing, targetCount / 2);
                    const doubleNames = generateDoubleNames(nameDatabase.male.double, selectedWuxing, targetCount / 2);
                    return [...singleNames, ...doubleNames];
                }
            } else if (gender === 'female') {
                if (nameLength === '1') {
                    charPool = nameDatabase.female.single;
                } else if (nameLength === '2') {
                    return generateFemaleDoubleNames(targetCount);
                } else {
                    // æ··åˆå•å­—å’ŒåŒå­—å
                    const singleNames = generateFemaleSingleNames(targetCount / 2);
                    const doubleNames = generateFemaleDoubleNames(targetCount / 2);
                    return [...singleNames, ...doubleNames];
                }
            } else {
                // ä¸é™æ€§åˆ«ï¼Œæ··åˆæ‰€æœ‰ç±»å‹
                const maleNames = generateMixedNames(nameDatabase.male, selectedWuxing, targetCount / 2);
                const femaleNames = generateMixedFemaleNames(targetCount / 2);
                return [...maleNames, ...femaleNames];
            }

            // ç”Ÿæˆå•å­—å
            if (charPool.length > 0) {
                names = generateSingleNamesFromPool(charPool, selectedWuxing, selectedZodiacs, targetCount);
            }

            return names;
        }

        // ç”Ÿæˆå•å­—å - ä¿®å¤ç‰ˆ
        function generateSingleNames(singleChars, selectedWuxing, count) {
            let names = [];
            let charPool = [];

            if (selectedWuxing.length > 0) {
                selectedWuxing.forEach(wx => {
                    if (singleChars[wx]) {
                        charPool = charPool.concat(singleChars[wx]);
                    }
                });
            }

            // å¦‚æœæ²¡æœ‰é€‰æ‹©äº”è¡Œæˆ–äº”è¡Œç­›é€‰åæ²¡æœ‰å­—ç¬¦ï¼Œä½¿ç”¨æ‰€æœ‰å¯ç”¨å­—ç¬¦
            if (charPool.length === 0) {
                charPool = getAllCharsFromObject(singleChars);
            }

            for (let i = 0; i < count && charPool.length > 0; i++) {
                const char = charPool[Math.floor(Math.random() * charPool.length)];
                const meaning = nameMeanings[char] || generateRandomMeaning(char);
                names.push({
                    name: char,
                    meaning: meaning
                });
                // ç§»é™¤å·²é€‰æ‹©çš„å­—ç¬¦ï¼Œé¿å…é‡å¤
                charPool = charPool.filter(c => c !== char);
            }

            return names;
        }

        // ç”ŸæˆåŒå­—å - ä¿®å¤ç‰ˆ
        function generateDoubleNames(doubleNames, selectedWuxing, count) {
            let names = [];
            let namePool = [];

            if (selectedWuxing.length > 0) {
                selectedWuxing.forEach(wx => {
                    if (doubleNames[wx]) {
                        namePool = namePool.concat(doubleNames[wx]);
                    }
                });
            }

            // å¦‚æœæ²¡æœ‰é€‰æ‹©äº”è¡Œæˆ–äº”è¡Œç­›é€‰åæ²¡æœ‰åå­—ï¼Œä½¿ç”¨æ‰€æœ‰å¯ç”¨åå­—
            if (namePool.length === 0) {
                namePool = getAllCharsFromObject(doubleNames);
            }

            for (let i = 0; i < count && namePool.length > 0; i++) {
                const name = namePool[Math.floor(Math.random() * namePool.length)];
                const meaning = nameMeanings[name] || generateRandomMeaning(name);
                names.push({
                    name: name,
                    meaning: meaning
                });
                // ç§»é™¤å·²é€‰æ‹©çš„åå­—ï¼Œé¿å…é‡å¤
                namePool = namePool.filter(n => n !== name);
            }

            return names;
        }

        // ç”Ÿæˆå¥³æ€§å•å­—å - æ”¹è¿›ç‰ˆ
        function generateFemaleSingleNames(count, selectedWuxing = []) {
            let names = [];
            let charPool = [];

            if (selectedWuxing.length > 0) {
                selectedWuxing.forEach(wx => {
                    if (nameDatabase.female.single[wx]) {
                        charPool = charPool.concat(nameDatabase.female.single[wx]);
                    }
                });
                // å¦‚æœäº”è¡Œç­›é€‰åæ²¡æœ‰å­—ç¬¦ï¼Œåˆ™ä½¿ç”¨é€šç”¨åº“
                if (charPool.length === 0) {
                    charPool = nameDatabase.female.single['é€šç”¨'];
                }
            } else {
                charPool = nameDatabase.female.single['é€šç”¨'];
            }

            for (let i = 0; i < count && charPool.length > 0; i++) {
                const char = charPool.splice(Math.floor(Math.random() * charPool.length), 1)[0];
                const meaning = nameMeanings[char] || generateRandomMeaning(char);
                names.push({
                    name: char,
                    meaning: meaning
                });
            }

            return names;
        }

        // ç”Ÿæˆå¥³æ€§åŒå­—å - æ”¹è¿›ç‰ˆ
        function generateFemaleDoubleNames(count, selectedWuxing = []) {
            let names = [];
            let namePool = [];

            if (selectedWuxing.length > 0) {
                selectedWuxing.forEach(wx => {
                    if (nameDatabase.female.double[wx]) {
                        namePool = namePool.concat(nameDatabase.female.double[wx]);
                    }
                });
                // å¦‚æœäº”è¡Œç­›é€‰åæ²¡æœ‰åå­—ï¼Œåˆ™ä½¿ç”¨é€šç”¨åº“
                if (namePool.length === 0) {
                    namePool = nameDatabase.female.double['é€šç”¨'];
                }
            } else {
                namePool = nameDatabase.female.double['é€šç”¨'];
            }

            for (let i = 0; i < count && namePool.length > 0; i++) {
                const name = namePool.splice(Math.floor(Math.random() * namePool.length), 1)[0];
                const meaning = nameMeanings[name] || generateRandomMeaning(name);
                names.push({
                    name: name,
                    meaning: meaning
                });
            }

            return names;
        }

        // ç”Ÿæˆæ··åˆå¥³æ€§åå­— - æ”¹è¿›ç‰ˆ
        function generateMixedFemaleNames(count, selectedWuxing = []) {
            const halfCount = Math.ceil(count / 2);
            const singleNames = generateFemaleSingleNames(halfCount, selectedWuxing);
            const doubleNames = generateFemaleDoubleNames(count - halfCount, selectedWuxing);
            return [...singleNames, ...doubleNames];
        }

        // æ”¹è¿›çš„ç”Ÿæˆå•å­—åå‡½æ•°ï¼Œæ”¯æŒç”Ÿè‚–ç­›é€‰
        function generateSingleNamesFromPool(charPool, selectedWuxing, selectedZodiacs, targetCount) {
            let names = [];
            let filteredPool = [...charPool];

            // æ ¹æ®ç”Ÿè‚–ç­›é€‰
            if (selectedZodiacs.length > 0) {
                filteredPool = filteredPool.filter(char => {
                    return selectedZodiacs.some(zodiac => {
                        const zodiacCharsForSign = zodiacChars[zodiac] || [];
                        return zodiacCharsForSign.some(zodiacChar => char.includes(zodiacChar));
                    });
                });
            }

            // å¦‚æœç­›é€‰åæ²¡æœ‰å­—ç¬¦ï¼Œä½¿ç”¨åŸæ± 
            if (filteredPool.length === 0) {
                filteredPool = charPool;
            }

            for (let i = 0; i < targetCount && filteredPool.length > 0; i++) {
                const char = filteredPool.splice(Math.floor(Math.random() * filteredPool.length), 1)[0];
                const meaning = nameMeanings[char] || generateRandomMeaning(char);
                names.push({
                    name: char,
                    meaning: meaning
                });
            }

            return names;
        }

        // æ”¹è¿›çš„å®é™…ç”Ÿæˆåå­—é€»è¾‘
        function doGenerateNames(surname) {
            const gender = document.getElementById('gender').value;
            const nameLength = document.getElementById('nameLength').value;
            const selectedZodiacs = getSelectedValues('zodiacGroup');
            const selectedWuxing = getSelectedValues('wuxingGroup');

            let names = [];
            const targetCount = 8;

            if (gender === 'male') {
                if (nameLength === '1') {
                    names = generateSingleNames(nameDatabase.male.single, selectedWuxing, targetCount);
                } else if (nameLength === '2') {
                    names = generateDoubleNames(nameDatabase.male.double, selectedWuxing, targetCount);
                } else {
                    const singleNames = generateSingleNames(nameDatabase.male.single, selectedWuxing, targetCount / 2);
                    const doubleNames = generateDoubleNames(nameDatabase.male.double, selectedWuxing, targetCount / 2);
                    names = [...singleNames, ...doubleNames];
                }
            } else if (gender === 'female') {
                if (nameLength === '1') {
                    names = generateFemaleSingleNames(targetCount, selectedWuxing);
                } else if (nameLength === '2') {
                    names = generateFemaleDoubleNames(targetCount, selectedWuxing);
                } else {
                    const singleNames = generateFemaleSingleNames(targetCount / 2, selectedWuxing);
                    const doubleNames = generateFemaleDoubleNames(targetCount / 2, selectedWuxing);
                    names = [...singleNames, ...doubleNames];
                }
            } else {
                // ä¸é™æ€§åˆ«ï¼Œæ··åˆæ‰€æœ‰ç±»å‹
                const maleNames = generateMixedNames(nameDatabase.male, selectedWuxing, targetCount / 2);
                const femaleNames = generateMixedFemaleNames(targetCount / 2, selectedWuxing);
                names = [...maleNames, ...femaleNames];
            }

            // åªæœ‰åœ¨ç”Ÿæˆçš„åå­—è¶³å¤Ÿå¤šæ—¶æ‰åº”ç”¨ç”Ÿè‚–ç­›é€‰ï¼Œå¦åˆ™è·³è¿‡ç­›é€‰
            if (selectedZodiacs.length > 0 && names.length > 4) {
                const filteredNames = filterNamesByZodiac(names, selectedZodiacs);
                // å¦‚æœç­›é€‰åè¿˜æœ‰è¶³å¤Ÿçš„åå­—ï¼Œä½¿ç”¨ç­›é€‰ç»“æœï¼Œå¦åˆ™ä½¿ç”¨åŸå§‹ç»“æœ
                if (filteredNames.length >= 3) {
                    names = filteredNames;
                }
            }

            return names;
        }

        // æ ¹æ®ç”Ÿè‚–ç­›é€‰åå­— - æ”¹è¿›ç‰ˆï¼Œæ›´å®½æ¾çš„åŒ¹é…
        function filterNamesByZodiac(names, selectedZodiacs) {
            return names.filter(nameObj => {
                const name = nameObj.name;
                // å¦‚æœæ²¡æœ‰é€‰æ‹©ç”Ÿè‚–ï¼Œè¿”å›æ‰€æœ‰åå­—
                if (selectedZodiacs.length === 0) {
                    return true;
                }

                // æ›´å®½æ¾çš„åŒ¹é…é€»è¾‘ - åªè¦åå­—ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦å¯èƒ½é€‚åˆä»»ä½•é€‰æ‹©çš„ç”Ÿè‚–å³å¯
                return selectedZodiacs.some(zodiac => {
                    const zodiacCharsForSign = zodiacChars[zodiac] || [];
                    // ç®€åŒ–åŒ¹é…é€»è¾‘ï¼Œåªæ£€æŸ¥æ˜¯å¦åŒ…å«ç›¸å…³åæ—æˆ–å­—æ ¹
                    return Array.from(name).some(char => {
                        return zodiacCharsForSign.some(zodiacChar => {
                            // æ›´ç®€å•çš„åŒ¹é…é€»è¾‘
                            return char === zodiacChar || char.includes(zodiacChar) || zodiacChar.includes(char);
                        });
                    });
                }) || Math.random() > 0.7; // æ·»åŠ 30%çš„éšæœºé€šè¿‡ç‡ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿçš„åå­—
            });
        }

        // ä»å¯¹è±¡ä¸­è·å–æ‰€æœ‰å­—ç¬¦
        function getAllCharsFromObject(obj) {
            let chars = [];
            Object.values(obj).forEach(arr => {
                if (Array.isArray(arr)) {
                    chars = chars.concat(arr);
                }
            });
            return chars;
        }

        // ç”Ÿæˆæ··åˆç”·æ€§åå­—
        function generateMixedNames(maleDb, selectedWuxing, count) {
            const halfCount = Math.ceil(count / 2);
            const singleNames = generateSingleNames(maleDb.single, selectedWuxing, halfCount);
            const doubleNames = generateDoubleNames(maleDb.double, selectedWuxing, count - halfCount);
            return [...singleNames, ...doubleNames];
        }

        // ç”Ÿæˆéšæœºå¯“æ„
        function generateRandomMeaning(name) {
            const meanings = [
                'å¯“æ„ç¾å¥½ï¼Œå‰ç¨‹ä¼¼é”¦',
                'å“æ ¼é«˜å°šï¼Œå¾·è¡Œå…¼å¤‡',
                'æ™ºæ…§è¶…ç¾¤ï¼Œæ‰åæ¨ªæº¢',
                'å¥åº·å¿«ä¹ï¼Œå¹¸ç¦å®‰åº·',
                'äº‹ä¸šæœ‰æˆï¼Œè´¢è¿äº¨é€š',
                'æ¸©æ–‡å°”é›…ï¼Œæ°”è´¨å‡ºä¼—',
                'èªæ˜ä¼¶ä¿ï¼Œæ´»æ³¼å¯çˆ±',
                'å¿—å‘è¿œå¤§ï¼Œèƒ¸æ€€å®½å¹¿'
            ];
            return meanings[Math.floor(Math.random() * meanings.length)];
        }

        // è·å–é€‰ä¸­çš„å€¼
        function getSelectedValues(groupId) {
            const group = document.getElementById(groupId);
            const selected = [];
            group.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
                selected.push(checkbox.closest('.checkbox-item').dataset.value);
            });
            return selected;
        }
        // æ˜¾ç¤ºç”Ÿæˆçš„åå­— - å¢å¼ºç‰ˆ
        function displayNames(names) {
            const namesGrid = document.getElementById('namesGrid');
            const surname = document.getElementById('surname').value.trim();

            if (names.length === 0) {
                namesGrid.innerHTML = '<div style="text-align: center; color: #666; padding: 40px;">æš‚æ— ç¬¦åˆæ¡ä»¶çš„åå­—ï¼Œè¯·è°ƒæ•´ç­›é€‰æ¡ä»¶åé‡è¯•</div>';
                return;
            }

            namesGrid.innerHTML = names.map((nameObj, index) => {
                const details = generateNameDetails(nameObj.name);
                return `
                <div class="name-card" style="animation-delay: ${index * 0.1}s" data-name="${nameObj.name}">
                    <button class="copy-btn" onclick="copyName('${surname}${nameObj.name}')" title="å¤åˆ¶åå­—">ğŸ“‹</button>
                    <div class="name-text">${surname}${nameObj.name}</div>
                    <div class="name-meaning">${nameObj.meaning}</div>
                    <div class="name-details" id="details-${index}">
                        <div class="detail-item">
                            <span class="detail-label">å­—æ•°:</span>
                            <span class="detail-value">${nameObj.name.length}å­—</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">äº”è¡Œ:</span>
                            <span class="detail-value">${details.wuxing}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">é€‚åˆç”Ÿè‚–:</span>
                            <span class="detail-value">${details.zodiac}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">æ‹¼éŸ³:</span>
                            <span class="detail-value">${details.pinyin}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ç¬”ç”»:</span>
                            <span class="detail-value">${details.strokes}åˆ’</span>
                        </div>
                    </div>
                    <button class="expand-btn" onclick="toggleDetails(${index})" id="expand-${index}">è¯¦æƒ…</button>
                </div>
            `;
            }).join('');
        }

        // ç”Ÿæˆåå­—è¯¦ç»†ä¿¡æ¯
        function generateNameDetails(name) {
            // ç®€åŒ–çš„æ‹¼éŸ³æ˜ å°„
            const pinyinMap = {
                'é”': 'ruÃ¬', 'é‘«': 'xÄ«n', 'é’§': 'jÅ«n', 'é“­': 'mÃ­ng', 'é’¦': 'qÄ«n',
                'é›…': 'yÇ', 'æ¬£': 'xÄ«n', 'ç³': 'lÃ­n', 'æ¢¦': 'mÃ¨ng', 'å©·': 'tÃ­ng',
                'æµ©': 'hÃ o', 'æ¶›': 'tÄo', 'æ±Ÿ': 'jiÄng', 'æ—': 'lÃ­n', 'æ£®': 'sÄ“n',
                'å¿—': 'zhÃ¬', 'è¿œ': 'yuÇn', 'å®‡': 'yÇ”', 'è½©': 'xuÄn', 'ç„¶': 'rÃ¡n',
                'é™': 'jÃ¬ng', 'æ€¡': 'yÃ­', 'æ´': 'jiÃ©', 'ç¾': 'mÄ›i', 'ä¸½': 'lÃ¬'
            };

            // ç®€åŒ–çš„ç¬”ç”»æ•°æ˜ å°„
            const strokesMap = {
                'é”': 15, 'é‘«': 24, 'é’§': 12, 'é“­': 14, 'é’¦': 12,
                'é›…': 12, 'æ¬£': 8, 'ç³': 13, 'æ¢¦': 14, 'å©·': 12,
                'æµ©': 11, 'æ¶›': 18, 'æ±Ÿ': 7, 'æ—': 8, 'æ£®': 12,
                'å¿—': 7, 'è¿œ': 17, 'å®‡': 6, 'è½©': 10, 'ç„¶': 12,
                'é™': 16, 'æ€¡': 9, 'æ´': 16, 'ç¾': 9, 'ä¸½': 7
            };

            // ç”Ÿæˆæ‹¼éŸ³
            let pinyin = '';
            for (const char of name) {
                pinyin += (pinyinMap[char] || char) + ' ';
            }

            // è®¡ç®—æ€»ç¬”ç”»æ•°
            let totalStrokes = 0;
            for (const char of name) {
                totalStrokes += strokesMap[char] || Math.floor(Math.random() * 15) + 5;
            }

            // ç¡®å®šäº”è¡Œå±æ€§
            let wuxing = 'æœªçŸ¥';
            for (const char of name) {
                for (const [element, chars] of Object.entries(wuxingChars)) {
                    if (chars.includes(char)) {
                        wuxing = element;
                        break;
                    }
                }
                if (wuxing !== 'æœªçŸ¥') break;
            }

            // ç¡®å®šé€‚åˆçš„ç”Ÿè‚–
            let suitableZodiacs = [];
            for (const char of name) {
                for (const [zodiac, chars] of Object.entries(zodiacChars)) {
                    if (chars.some(zodiacChar => char.includes(zodiacChar))) {
                        suitableZodiacs.push(zodiac);
                    }
                }
            }

            return {
                pinyin: pinyin.trim() || 'æš‚æ— ',
                strokes: totalStrokes,
                wuxing: wuxing,
                zodiac: suitableZodiacs.length > 0 ? suitableZodiacs.slice(0, 3).join('ã€') : 'é€šç”¨'
            };
        }

        // åˆ‡æ¢è¯¦æƒ…æ˜¾ç¤º
        function toggleDetails(index) {
            const details = document.getElementById(`details-${index}`);
            const button = document.getElementById(`expand-${index}`);
            const card = details.closest('.name-card');

            if (details.classList.contains('show')) {
                details.classList.remove('show');
                button.textContent = 'è¯¦æƒ…';
                card.classList.remove('expanded');
            } else {
                // å…ˆå…³é—­å…¶ä»–å·²å±•å¼€çš„è¯¦æƒ…
                document.querySelectorAll('.name-details.show').forEach(detail => {
                    detail.classList.remove('show');
                    detail.closest('.name-card').classList.remove('expanded');
                });
                document.querySelectorAll('.expand-btn').forEach(btn => {
                    btn.textContent = 'è¯¦æƒ…';
                });

                // å±•å¼€å½“å‰è¯¦æƒ…
                details.classList.add('show');
                button.textContent = 'æ”¶èµ·';
                card.classList.add('expanded');
            }
        }

        // å¤åˆ¶åå­—åˆ°å‰ªè´´æ¿
        function copyName(name) {
            navigator.clipboard.writeText(name).then(() => {
                showToast(`å·²å¤åˆ¶ "${name}" åˆ°å‰ªè´´æ¿`);
            }).catch(() => {
                // å…¼å®¹æ—§æµè§ˆå™¨çš„å¤åˆ¶æ–¹æ³•
                const textarea = document.createElement('textarea');
                textarea.value = name;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showToast(`å·²å¤åˆ¶ "${name}" åˆ°å‰ªè´´æ¿`);
            });
        }

        // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.display = 'block';
            setTimeout(() => {
                toast.style.display = 'none';
            }, 2000);
        }

        // æ·»åŠ é”®ç›˜å¿«æ·é”®æ”¯æŒ
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.target.id === 'surname') {
                generateNames();
            }
        });

        // æ·»åŠ CSSåŠ¨ç”»
        const style = document.createElement('style');
        style.textContent = `
            .name-card {
                animation: slideUp 0.6s ease-out forwards;
                opacity: 0;
                transform: translateY(30px);
            }

            @keyframes slideUp {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>